import streamlit as st

st.set_page_config(page_title="–ò–ò-–º–µ–¥ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç", page_icon="ü´Å")

st.title("ü´Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è–º –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π")
st.write("–û–ø–∏—à–∏—Ç–µ —Å–∏–º–ø—Ç–æ–º—ã. –Ø –∑–∞–¥–∞–º –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ü–µ–Ω—é –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∏—Å–∫–∏.")
st.warning("‚ö†Ô∏è –≠—Ç–æ –Ω–µ –¥–∏–∞–≥–Ω–æ–∑, –∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞.")

# –®–∞–≥ 1 ‚Äî –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
user_text = st.text_input(
    "–°–æ–æ–±—â–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞:",
    placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —É –º–µ–Ω—è –∫–∞—à–µ–ª—å –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"
)

# –®–∞–≥ 2 ‚Äî —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
st.subheader("–£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã")
temp = st.selectbox("–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤—ã—à–µ 38¬∞C?", ["–ù–µ –∑–Ω–∞—é", "–î–∞", "–ù–µ—Ç"])
breath = st.selectbox("–ï—Å—Ç—å –ª–∏ –æ–¥—ã—à–∫–∞?", ["–ù–µ –∑–Ω–∞—é", "–î–∞", "–ù–µ—Ç"])
chest = st.selectbox("–ë–æ–ª—å –≤ –≥—Ä—É–¥–∏ –ø—Ä–∏ –¥—ã—Ö–∞–Ω–∏–∏?", ["–ù–µ –∑–Ω–∞—é", "–î–∞", "–ù–µ—Ç"])
weakness = st.selectbox("–°–∏–ª—å–Ω–∞—è —Å–ª–∞–±–æ—Å—Ç—å?", ["–ù–µ –∑–Ω–∞—é", "–î–∞", "–ù–µ—Ç"])

if st.button("ü§ñ –û—Ç–≤–µ—Ç –ò–ò"):
    risk = 0
    explanation = []

    text = user_text.lower()

    # –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞
    if "–∫–∞—à–µ–ª" in text:
        risk += 1
        explanation.append("–ö–∞—à–µ–ª—å –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –ø—Ä–∏ –º–Ω–æ–≥–∏—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è—Ö (–ø—Ä–æ—Å—Ç—É–¥–∞, –±—Ä–æ–Ω—Ö–∏—Ç, –∞–ª–ª–µ—Ä–≥–∏—è).")

    if "—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä" in text:
        risk += 2
        explanation.append("–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–æ—Å–ø–∞–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å.")

    # –ê–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–æ–≤
    if temp == "–î–∞":
        risk += 2
        explanation.append("–í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ñ–µ–∫—Ü–∏–∏.")
    if breath == "–î–∞":
        risk += 3
        explanation.append("–û–¥—ã—à–∫–∞ ‚Äî –≤–∞–∂–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –ø–æ—Ä–∞–∂–µ–Ω–∏—è –ª—ë–≥–∫–∏—Ö.")
    if chest == "–î–∞":
        risk += 3
        explanation.append("–ë–æ–ª—å –≤ –≥—Ä—É–¥–∏ –ø—Ä–∏ –¥—ã—Ö–∞–Ω–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω–∞ —Å –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ–º –ª—ë–≥–∫–∏—Ö.")
    if weakness == "–î–∞":
        risk += 1
        explanation.append("–°–∏–ª—å–Ω–∞—è —Å–ª–∞–±–æ—Å—Ç—å —á–∞—Å—Ç–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç —Å–µ—Ä—å—ë–∑–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏.")

    # –ü—Ä–æ—Ü–µ–Ω—Ç—ã
    probability = min(risk * 10, 90)

    st.subheader("üß† –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –ò–ò")

    if probability < 30:
        st.success(
            f"–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–Ω–µ–≤–º–æ–Ω–∏–∏ –Ω–∏–∑–∫–∞—è (~{probability}%). "
            "–°–∏–º–ø—Ç–æ–º—ã –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂–∏ –Ω–∞ –ø—Ä–æ—Å—Ç—É–¥—É –∏–ª–∏ –ª—ë–≥–∫—É—é –≤–∏—Ä—É—Å–Ω—É—é –∏–Ω—Ñ–µ–∫—Ü–∏—é."
        )
        st.write("üíä –í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã: –ø—Ä–æ—Å—Ç—É–¥–∞, –û–†–í–ò.")
    elif probability < 60:
        st.warning(
            f"–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–Ω–µ–≤–º–æ–Ω–∏–∏ —Å—Ä–µ–¥–Ω—è—è (~{probability}%). "
            "–°–∏–º–ø—Ç–æ–º—ã –º–æ–≥—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –±—Ä–æ–Ω—Ö–∏—Ç—É –∏–ª–∏ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ –∏–Ω—Ñ–µ–∫—Ü–∏–∏."
        )
        st.write("üíä –í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã: –±—Ä–æ–Ω—Ö–∏—Ç, –≤–∏—Ä—É—Å–Ω–∞—è –∏–Ω—Ñ–µ–∫—Ü–∏—è.")
    else:
        st.error(
            f"–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–Ω–µ–≤–º–æ–Ω–∏–∏ –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è (~{probability}%). "
            "–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å—Ä–æ—á–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –≤—Ä–∞—á—É."
        )
        st.write("üíä –í–æ–∑–º–æ–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: –ø–Ω–µ–≤–º–æ–Ω–∏—è.")

    st.write("üìå –ü–æ—è—Å–Ω–µ–Ω–∏–µ –ò–ò:")
    for e in explanation:
        st.write("‚Äì", e)

    st.info(
        "–ò–ò –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ —Å–∏–º–ø—Ç–æ–º–æ–≤. "
        "–¢–æ—á–Ω—ã–π –¥–∏–∞–≥–Ω–æ–∑ –º–æ–∂–µ—Ç –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤—Ä–∞—á."
    )
